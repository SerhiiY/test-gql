(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,a){e.exports={container:"styles_container__RD8oA",date:"styles_date__2E28i",rateBlock:"styles_rateBlock__3ikSq",reviewContainer:"styles_reviewContainer__2Ofxc",type:"styles_type__3bD-f",guestSection:"styles_guestSection__-xOGc"}},28:function(e,t,a){e.exports={modal:"styles_modal__3Dta3",cross:"styles_cross__2cw8A",modalBody:"styles_modalBody__3QI5j",modalHeader:"styles_modalHeader__10XDF","modal-content":"styles_modal-content__AFeYN"}},58:function(e,t,a){e.exports={section:"styles_section__1AAmO"}},71:function(e,t,a){e.exports=a(86)},80:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),c=a(95),i=a(90),l=a(28),u=a.n(l),d=a(43),m=function(e){var t=e.isOpen,a=void 0!==t&&t,n=e.onClose,o=void 0===n?function(){}:n,s=e.headerTitle,l=e.children,m=e.isLoading,p=e.error;return r.a.createElement(c.a,{show:a,onHide:o,className:"modal-dialog modal-dialog-centered ".concat(u.a.modal)},r.a.createElement("div",{className:u.a.wrapper},r.a.createElement(d.a,{className:u.a.cross,size:20,onClick:o}),s&&r.a.createElement(c.a.Header,{className:"font-weight-bold ".concat(u.a.modalHeader)},s),r.a.createElement(c.a.Body,{className:u.a.modalBody},m?r.a.createElement(i.a,{animation:"border",variant:"primary"}):p?r.a.createElement("p",{className:"p-2"},"Error: can't load data (",p,")"):l)))},p=a(27),v=a(57),f=a(36);function y(){var e=Object(v.a)(["\n  query getGuestReviewsQuery {\n    guestReviewsList {\n      name\n      date\n      rate\n      questions\n      travelingType\n    }\n  }\n"]);return y=function(){return e},e}var w=a.n(f)()(y()),E=[{request:{query:w,variables:{}},result:{guestReviewsList:[{name:"John",date:new Date("2020-04-28").toISOString(),rate:8.8,travelingType:"Traveling Alone",questions:[{question:"What did you like most?",answer:"Character, history, lobby"},{question:"Was there anythind you didn't like?",answer:"There were wery loud neighbors"}]},{name:"Mary",date:new Date("2020-04-17").toISOString(),rate:9.3,travelingType:"Traveling Alone",questions:[{question:"What did you like most?",answer:"Wonderful view, tasty food"},{question:"Was there anythind you didn't like?",answer:"There was't any parking, I can't take a car!"}]},{name:"John",date:new Date("2020-03-15").toISOString(),rate:7.6,travelingType:"Traveling as Couple",questions:[{question:"What did you like most?",answer:"Concert was amazing, people are the most friendly I've ever seen!"},{question:"Was there anythind you didn't like?",answer:"Quite dirty streets and no choise in the supermarket"}]}]}}],h=function(e){var t=Object(n.useState)(!0),a=Object(p.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(null),c=Object(p.a)(s,2),i=c[0],l=c[1],u=Object(n.useState)(null),d=Object(p.a)(u,2),m=d[0],v=d[1];return r&&setTimeout((function(){e===w?v(E):l("Incorrect query"),o(!1)}),1500),{loading:r,error:i,data:m}},g=a(92),_=a(91),b=a(93),O=a(58),S=a.n(O),j=function(e){var t=e.questions;return null===t||void 0===t?void 0:t.map((function(e,t){var a=e.question,n=e.answer;return r.a.createElement("div",{key:t,className:S.a.section},r.a.createElement(_.a,{className:"font-weight-bold"},a),r.a.createElement(_.a,{className:"mb-2"},n))}))},N=a(24),k=a.n(N),T=a(59),W=a.n(T),q=function(e){var t,a=e.isOpen,n=e.onClose,o=h(w),s=o.data,c=o.error,i=o.loading,l=((null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.result)||{}).guestReviewsList;return r.a.createElement(m,{isOpen:a,onClose:n,isLoading:i,headerTitle:"GUEST REVIEWS",error:c},r.a.createElement(g.a,{className:"justify-content-center ".concat(k.a.container)},null===l||void 0===l?void 0:l.map((function(e,t){var a=e.name,n=e.date,o=e.rate,s=e.travelingType,c=e.questions;return r.a.createElement("div",{key:t,className:k.a.reviewContainer},r.a.createElement(_.a,{className:"my-3 justify-content-start"},r.a.createElement(b.a,{xs:"auto",className:"m-0 px-0"},r.a.createElement("div",{className:k.a.rateBlock},o)),r.a.createElement(b.a,{xs:"auto",className:"ml-0"},r.a.createElement(_.a,{className:"font-weight-bold"},function(e){return(e=parseFloat(e))?e>8.5?"Perfect":e>7?"Good":e>5?"Normal":e>3?"Satisfactory":"Bad":""}(o)),r.a.createElement(_.a,{className:k.a.date},W()(n).format("MMM DD, YYYY")))),r.a.createElement(j,{questions:c}),r.a.createElement(_.a,null,r.a.createElement(b.a,{xs:"auto",className:"m-0 p-0 pt-2 pb-3 ".concat(k.a.guestSection)},r.a.createElement(_.a,{className:"font-weight-bold"},a),r.a.createElement(_.a,{className:k.a.type},s))))}))))},x=a(96),C=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],o=t[1],s=function(){return o(!a)};return r.a.createElement(g.a,{fluid:"md",className:"justify-content-center p-3"},r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(b.a,{md:5,className:"text-center"},r.a.createElement("h2",null,"Welcome to reviews page"))),r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(b.a,{md:5,className:"text-center"},r.a.createElement("p",null,"You can read guest reviews here"))),r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(x.a,{onClick:s},"Show popup")),a&&r.a.createElement(q,{isOpen:a,onClose:s}))},R=(a(79),a(80),a(60)),L=a(12),I="/",P=function(e){return r.a.createElement(R.a,null,r.a.createElement(L.d,null,r.a.createElement(L.b,{exact:!0,path:I,component:C}),r.a.createElement(L.a,{to:I})))},A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var G=a(94),B=a(21),U=a(34),V={reviewsLoader:!1,reviewsPopup:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_REVIEWS_POPUP":var a=void 0===t.payload?!e.reviewsPopup:t.payload;return Object(U.a)({},e,{reviewsPopup:a});case"TOGGLE_REVIEWS_LOADER":var n=void 0===t.payload?!e.reviewsLoader:t.payload;return Object(U.a)({},e,{reviewsLoader:n});default:return e}},Y={reviews:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REVIEWS":return Object(U.a)({},e,{reviews:t.payload});default:return e}},J=Object(B.combineReducers)({data:M,app:H}),F=a(62),K=a(69),Q=a(63),z=a(25),X=a.n(z),$=a(29),Z=function(e){return{type:"TOGGLE_REVIEWS_POPUP",payload:e}},ee=X.a.mark(ae),te=X.a.mark(ne);function ae(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.c)("GET_REVIEWS",ne);case 2:case"end":return e.stop()}}),ee)}function ne(){var e;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($.b)(Z(!0));case 2:return t.next=4,Object($.a)(re);case 4:return e=t.sent,t.next=7,Object($.b)({type:"GET_REVIEWS",payload:e});case 7:return t.next=9,Object($.b)(Z(!1));case 9:case"end":return t.stop()}}),te)}var re=function(){var e=Object(Q.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=Object(K.a)(),se=Object(B.createStore)(J,Object(F.composeWithDevTools)(Object(B.applyMiddleware)(oe)));oe.run(ae);var ce=se,ie=a(67),le=new(a(68).a)({uri:Object({NODE_ENV:"production",PUBLIC_URL:"/test-gql",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).APOLLO_CLIENT_URI});s.a.render(r.a.createElement(G.a,{client:le},r.a.createElement(ie.a,{store:ce},r.a.createElement(P,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/test-gql",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/test-gql","/service-worker.js");A?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(t,e)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.a35c7276.chunk.js.map